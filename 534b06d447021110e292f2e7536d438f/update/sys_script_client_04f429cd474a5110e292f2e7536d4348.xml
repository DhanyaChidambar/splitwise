<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_script_client">
    <sys_script_client action="INSERT_OR_UPDATE">
        <active>false</active>
        <applies_extended>false</applies_extended>
        <condition/>
        <description/>
        <field>u_paid_by</field>
        <global>true</global>
        <isolate_script>true</isolate_script>
        <messages/>
        <name>Get Members by Group ID</name>
        <order/>
        <script><![CDATA[function onLoad() {
   //Type appropriate comment here, and begin script below
// 	if(g_form.getValue('u_paid_by')){
// 		alert("paid updated and value "+g_form.getValue('u_paid_by'));
// 		var getUser=new GlideAjax('getUserBySysID');
// 		getUser.addParam('sysparm_name','getUser');
// 		getUser.addParam('sysparm_group', g_form.getValue('group'));
// 		getUser.getXML(populateCurrentPaidBy);
// 	}
	 var getEmailAddr = new GlideAjax('getGroupBySysId');
    // Specify the getEmail method
	alert("You are inside group "+g_form.getValue('group'));
    getEmailAddr.addParam('sysparm_name','getGroup');
    // Pass the Requested for sys_id
    getEmailAddr.addParam('sysparm_group', g_form.getValue('group'));
    // Send the request to the server
    getEmailAddr.getXML(populateEmailField);


    // When the response is back from the server
    function populateEmailField(response){
        // Extract the email address from the response, clear any value from the email field, 
        // set new value in the email field
        var emailFromScriptInclude = response.responseXML.documentElement.getAttribute("answer");
        //g_form.clearValue('u_requested_for_email');
        //g_form.setValue('u_requested_for_email',emailFromScriptInclude);
		var userIds=JSON.parse(emailFromScriptInclude);
		//for(var i=0;i<userIds.length;i++){
			
		//}
		for(const [key, val] of Object.entries(userIds)){
			
			g_form.addOption('u_paid_by',key,val);
		}
		console.log(emailFromScriptInclude+' ');
    }
   
}]]></script>
        <sys_class_name>sys_script_client</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-09-18 11:58:59</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_domain_path>/</sys_domain_path>
        <sys_id>04f429cd474a5110e292f2e7536d4348</sys_id>
        <sys_mod_count>18</sys_mod_count>
        <sys_name>Get Members by Group ID</sys_name>
        <sys_overrides/>
        <sys_package display_value="Splitwise" source="x_881767_splitwise">534b06d447021110e292f2e7536d438f</sys_package>
        <sys_policy/>
        <sys_scope display_value="Splitwise">534b06d447021110e292f2e7536d438f</sys_scope>
        <sys_update_name>sys_script_client_04f429cd474a5110e292f2e7536d4348</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-09-18 18:17:02</sys_updated_on>
        <table>x_881767_splitwise_expense</table>
        <type>onLoad</type>
        <ui_type>10</ui_type>
        <view/>
    </sys_script_client>
</record_update>
